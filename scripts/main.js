!function e(t,n,r){function a(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){var n=t[i][1][e];return a(n?n:e)},f,f.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function o(e,t){r(this,o),this.trebleNotes=e,this.bassNotes=t};n["default"]=a},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=e("./randomise"),i=a(o),u=e("./renderer"),s=r(u),c=e("./bar"),f=r(c);!function(){var e=new i.RandomNotesOptions(4,4,[2,6],[{value:1,weight:.15},{value:2,weight:.2},{value:4,weight:.6},{value:8,weight:.05}]),t=new i.RandomNotesOptions(4,4,[-5,-1],[{value:1,weight:.25},{value:2,weight:.75}]),n=Array(9).fill().map(function(n){return new f["default"](i.randomiseNotes(e),i.randomiseNotes(t))}),r=new s["default"]($("#music-canvas"),500);r.draw(n)}()},{"./bar":1,"./randomise":4,"./renderer":5}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){e+=42;var t=u[(e+2)%u.length],n=~~(e/u.length)-2;return t+"/"+n}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Vex.Flow,u=["a","b","c","d","e","f","g"],s=function(){function e(t,n){r(this,e),this.notes=[t],this.duration=n}return o(e,[{key:"toFlowNote",value:function(e){return new i.StaveNote({keys:this.notes.map(function(e){return a(e)}),duration:""+this.duration,clef:e,stem_direction:"treble"===e?1:-1})}}]),e}();n["default"]=s},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t,n,r=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=1,n=regeneratorRuntime.mark(function o(){var n,a,i,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=Math.random()*t,a=0,i=e.findIndex(function(e){return a+=e.weight,a>n-.001}),u=e.splice(i,1)[0],t-=u.weight,r.next=7,u.value;case 7:case"end":return r.stop()}},o,r)});case 2:if(!(e.length>0)){a.next=6;break}return a.delegateYield(n(),"t0",4);case 4:a.next=2;break;case 6:case"end":return a.stop()}},d[0],this)}function i(e,t,n){var r=n.totalDuration;if(t===r)return e;var a=r-t,u=o(n.durations),s=!0,c=!1,f=void 0;try{for(var l,d=u[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var h=l.value,v=1/h;if(v<=a){var w=i(e.concat(h),t+v,n);if(w)return w}}}catch(b){c=!0,f=b}finally{try{!s&&d["return"]&&d["return"]()}finally{if(c)throw f}}return null}function u(e,t){var n=t.noteRange,r=n[1]-n[0]+1;return e.map(function(e){var t=~~Math.min(Math.random()*r,r-1)+n[0];return new l["default"](t,e)})}function s(e){return u(i([],0,e),e)}Object.defineProperty(n,"__esModule",{value:!0}),n.RandomNotesOptions=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n.randomiseNotes=s;var f=e("./note"),l=r(f),d=[o].map(regeneratorRuntime.mark);n.RandomNotesOptions=function(){function e(t,n,r,o){a(this,e),this.numBeats=t,this.beatValue=n,this._durations=o,this.noteRange=r}return c(e,[{key:"totalDuration",get:function(){return this.numBeats/this.beatValue}},{key:"durations",get:function(){return this._durations.slice()}}]),e}()},{"./note":3}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{!r&&u["return"]&&u["return"]()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Vex.Flow,u=function(){function e(t,n){r(this,e),this.width=t.width(),this.renderer=new i.Renderer(t.get(0),i.Renderer.Backends.SVG),this.renderer.resize(this.width,n),this.context=this.renderer.getContext(),this.context.setFont("Arial",10,"").setBackgroundFillStyle("#eed")}return o(e,[{key:"draw",value:function(e){var t=this,n=0,r=0,a=200,o=60,i=~~((this.width-o)/a);e.forEach(function(e,u){var s=u%i===0;s&&0!==u&&(n=0,r+=170);var c={bar:e,x:n,y:r,width:a+(s?o:0),firstInRow:s};t._drawBar(c),n+=c.width})}},{key:"_drawBar",value:function(e){var t=this,n=this._createStave(e,"treble",e.bar.trebleNotes),r=a(n,3),o=r[0],u=r[1],s=r[2],c=this._createStave(e,"bass",e.bar.bassNotes),f=a(c,3),l=f[0],d=f[1],h=f[2],v=[u,d];(new i.Formatter).format(v,200);u.draw(this.context,o),d.draw(this.context,l),s.concat(h).forEach(function(e){return e.setContext(t.context).draw()})}},{key:"_createStave",value:function(e,t,n){var r=n.map(function(e){return e.toFlowNote(t)}),a=e.y+("bass"===t?80:0),o=new i.Stave(e.x,a,e.width);e.firstInRow&&o.addClef(t).addTimeSignature("4/4"),o.setContext(this.context).draw();var u=new i.Voice({num_beats:4,beat_value:4});u.addTickables(r);var s=i.Beam.generateBeams(r);return[o,u,s]}}]),e}();n["default"]=u},{}]},{},[2]);